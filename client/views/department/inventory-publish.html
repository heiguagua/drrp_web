<div id='inventory-publish'>
  <div class="panel panel-default">
    <div class="panel-heading">新增指标</div>
    <div class="panel-body">

      <!--Step 1-->
      <div id='indicator-profile'>
        <form name='DataQuotaForm' ng-submit='addQuota(DataQuotaForm.$valid)' class="form-horizontal" novalidate>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>指标编号 :</label>
            <div class="col-sm-10">
              <input type="text" name='quota_sn' ng-model='DataQuota.quota_sn' required class="form-control">
              <p ng-show="DataQuotaForm.quota_sn.$error.required && submitted" class="help-block">请输入指标编号</p>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>指标名称:</label>
            <div class="col-sm-10">
              <input type="text" name='quota_name' required class="form-control" ng-model='DataQuota.quota_name'>
              <p ng-show="DataQuotaForm.quota_name.$error.required && submitted" class="help-block">请输入指标名称</p>
              <span class='help-info'>部门统计报表制度中对指标名称的全称</span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>指标别称:</label>
            <div class="col-sm-10">
              <input type="text" required name='alias' class="form-control" ng-model='DataQuota.alias'>
              <p ng-show="DataQuotaForm.alias.$error.required && submitted" class="help-block">请输入指标别称</p>
              <span class='help-info'>提供部门的内部名称或英文名称及简称等</span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>计量单位:</label>
            <div class="col-sm-10">
              <input type="text" name='meter_unit' class="form-control" required ng-model='DataQuota.meter_unit'>
              <p ng-show="DataQuotaForm.meter_unit.$error.required && submitted" class="help-block">请输入计量单位</p>
              <span class='help-info'>反映指标某一具体数值的实际度量单位</span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>指标详细解释:</label>
            <div class="col-sm-10">
              <textarea class="form-control" name='quota_detail' required ng-maxlength="256" rows='3' ng-model='DataQuota.quota_detail'></textarea>
              <p ng-show="DataQuotaForm.quota_detail.$invalid.maxlength" class="help-block">输入的内容太长。</p>
              <p ng-show="DataQuotaForm.quota_detail.$error.required && submitted" class="help-block">请输入指标详细解释</p>
              <span class='help-info pull-left'>统计制度上对指标的详细解释</span>
              <span class='pull-right'>(最多256个汉字)</span>

            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">计算方法:</label>
            <div class="col-sm-10">
              <textarea class="form-control" rows='3' ng-model='DataQuota.calculate_method'></textarea>
              <span class='help-info pull-left'>是指为求得统计指标具体数值需要采用的算法。一般用计算公式表示，也可以用文字表述。</span>
              <span class='pull-right'>(最多256个汉字)</span>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>共享频率:</label>
            <div class="col-sm-10">
              <span ng-repeat="sfItem in  shareFrequencyList">
                <input type="radio" name='share_frequency'
                ng-model='DataQuota.share_frequency' value="{{sfItem.id}}">
                {{sfItem.dict_name}}
              </span>
              <p ng-show="DataQuotaForm.share_frequency.$error.required && submitted" class="help-block">请选择共享频率</p>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>空间范围:</label>
            <div class="col-sm-10">
              <input type="text" name='area_range' class="form-control" required ng-model='DataQuota.area_range'>
              <p ng-show="DataQuotaForm.area_range.$error.required && submitted" class="help-block">请输入空间范围</p>
              <span class='help-info'>
                可取得数据的地区名称，如全国，四川省，各省等。
              </span>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">分地区数据级别:</label>
            <div class="col-sm-10">
              <span ng-repeat="dataLevel in  dataLevelList">
                <input type="checkbox" value="{{dataLevel.id}}" ng-checked="dataLevelSelection.indexOf(dataLevel.id) > -1" ng-click="toggleDataLevelSelection(dataLevel)">
                {{dataLevel.dict_name}}
              </span>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>来源部门:</label>
            <div class="col-sm-10">
              {{DEP_NAME}}
              <!-- <select class="form-control" ng-model='DataQuota.dep_name' required>
                <option ng-repeat="dep in  deptList" value='{{dep.ID}}'>{{dep.DEP_NAME}}</option>
              </select> -->
              <span class='help-info'>
                <!-- 可取得数据的地区名称，如全国，四川省，各省等。 -->
              </span>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>共享级别:</label>
            <div class="col-sm-10">
              <select ng-model='DataQuota.share_level' name='shareLevelOpt' ng-change='showHideDeps()' class='form-control' style='display: inline-block !important;width: auto;' ng-model='DataQuota.shareLevel'>
                <option ng-repeat="shareLevel in  shareLevelList" value='{{shareLevel.id}}'>{{shareLevel.dict_name}}</option>
              </select>
              <span ng-class="{true: 'ng-show', false: 'ng-hide'}[depShow]">指定部门名称：
                <div style='display:inline-block' isteven-multi-select input-model="deptList" output-model="outputDeptList" button-label="dep_name" item-label="dep_name" tick-property="ticked"></div>
              </span>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>数据存储类型:</label>
            <div class="col-sm-10">
              <select ng-change='storeTypeChange()' ng-model='DataQuota.data_store_type' class='custom-form-control'>
                <option ng-repeat="qtype in  quotaTypeList" value='{{qtype.id}}'>{{qtype.dict_name}}</option>
              </select>
              <span ng-class="{true: 'ng-show', false: 'ng-hide'}[storeTypeOther]">
                备注：
                <input type='text' ng-model='DataQuota.data_store_type_add' class='custom-form-control'/>
              </span>
              <span class='help-info'>
                指标类型如选择9.其他，请在备注中说明。
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>数据精度:</label>
            <div class="col-sm-10">
              <input type="text" name='data_precision' class="form-control" required ng-model='DataQuota.data_precision'>
              <p ng-show="DataQuotaForm.data_precision.$error.required  && submitted" class="help-block">请输入数据精度</p>
              <span class='help-info'>
                数值型指标数据定义的数据存储的小数位数。如：小数点后取2位
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>数据长度:</label>
            <div class="col-sm-10">
              <input type="text" name='data_length' class="form-control" required ng-model='DataQuota.data_length'>
              <p ng-show="DataQuotaForm.data_length.$error.required && submitted" class="help-block">请输入数据长度</p>
              <span class='help-info'>
                指标数据的最大长度。如：小于9位
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">
              <span class='require-sign'>*</span>数据表示格式 :</label>
            <div class="col-sm-10">
              <select ng-change='dataShowChange()'  ng-model='DataQuota.data_show_format' class='custom-form-control'>
                <option ng-repeat="dataFormat in  dataShowFormatList" value='{{dataFormat.id}}'>{{dataFormat.dict_name}}</option>
              </select>
              <span ng-class="{true: 'ng-show', false: 'ng-hide'}[dataShowOther]">
                备注：
                <input type='text' ng-model='DataQuota.data_show_format_add' class='custom-form-control'/>
              </span>
              <span class='help-info'>
                展示页面上指标数据类型的具体表现形式。如选择99.其他，请在备注中说明。
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">是否涉密:</label>
            <div class="col-sm-10">
              <select ng-model='DataQuota.secret_flag' class='custom-form-control'>
                <option ng-repeat="qsflag in  secretFlagList" value='{{qsflag.id}}'>{{qsflag.dict_name}}</option>
              </select>
              <span class='help-info'>指标数据是否为涉密数据。</span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">联系人:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" ng-model='DataQuota.linkman'>
              <span class='help-info'>
                具有指标解释权的联系人名字。
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="" class="col-sm-2 control-label">联系电话:</label>
            <div class="col-sm-10">
              <input type="text" name='contact_phone' ng-pattern='/^(\d{3,4}-)?\d{7,8}$|(1[3|4|5|7|8]\d{9})/' class="form-control" ng-model='DataQuota.contact_phone'>
              <p ng-show="DataQuotaForm.contact_phone.$invalid" class="help-block">请输入正确的联系电话</p>
              <span class='help-info'>
                具有指标解释权的联系部门或联系人电话。
              </span>
            </div>
          </div>

          <div class="form-group">
            <label for="" class="col-sm-2 control-label">文件标识:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" ng-model='DataQuota.file_name'>
              <span class='help-info'>
                请输入样表表明或者文件编号。
              </span>
            </div>
          </div>
          <div class="pull-right">
            <div class="btn btn-group">
              <button class="btn btn-default " ng-click='close()'>关闭</button>
            </div>
            <div class="btn btn-group">
              <button class="btn btn-success " type='submit'>保存</button>
            </div>
          </div>
        </form>
      </div>
      <!-- /.Step 1 -->

    </div>

  </div>
</div>

<script type='text/ng-template' id='import-example-modal.html'>
  <form class="form-horizontal example-add-modal">
    <div class='modal-header'>
      <h4>
        <i class="fa fa-question-circle"></i>
        是否上传样例数据？
        <button type='button' class='close' data-dismiss='modal' ng-click='Modal.cancel()'>&times;</button>
      </h4>

    </div>
    <div class='modal-body'>

    </div>
    <div class='modal-footer'>

      <button class='btn btn-primary' ng-click="Modal.confirm()">是</button>
      <button class='btn btn-default' type='button' ng-click='Modal.cancel()'>以后再说</button>
    </div>
  </div>
</form>
</script>
