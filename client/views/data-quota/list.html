<div id='data-quota-list'>
  <div class="panel panel-default pannel-patch">
    <div class="panel-heading">
      <i ng-if="currentDep===''" class="fa fa-paperclip"> 全部指标</i>
      <i ng-if="currentDep!==''" class="fa fa-paperclip"> {{currentDep}}</i>
      <div class="input-group col-xs-3 pull-right input-patch">
        <input ng-model='TargetDataQuotaName' type="text" class="form-control" placeholder="请输入查询指标名称...">
        <span class="input-group-btn">
          <button ng-click='Retrieval()' class="btn btn-default" type="button">查询</button>
        </span>
      </div>

    </div>
    <div class="panel-body">
      <nav>
        <ul class="pager">
          <li class="text-muted">共享级别</li>
          <li ng-click="ShareLevelFilter('ALL')">
            <a ng-class='ShareLevelActiveA'>全部</a>
          </li>
          <li ng-repeat='shareLevel in ShareLevels' ng-click='ShareLevelFilter(shareLevel.id, $index)'>
            <a ng-class='ShareLevelActive[$index]'>{{shareLevel.dict_name}}</a>
          </li>
        </ul>
      </nav>
      <nav>
        <ul class="pager">
          <li class="text-muted">共享频率</li>
          <li ng-click="ShareFrequencyFilter('ALL')">
            <a>全部</a>
          </li>
          <li ng-repeat='shareFrequency in ShareFrequencys' ng-click='ShareFrequencyFilter(shareFrequency.id, $index)'>
            <a ng-class='ShareFrequencyActive[$index]'>{{shareFrequency.dict_name}}
            </a>
          </li>
        </ul>
      </nav>
      <nav>
        <ul class="pager">
          <li class="text-muted">分地区数据级别</li>
          <li ng-click="DataLevelFilter('ALL')">
            <a>全部</a>
          </li>
          <li ng-repeat='dataLevel in DataLevels' ng-click='DataLevelFilter(dataLevel.id, $index)'>
            <a ng-class='DataLevelActive[$index]'>{{dataLevel.dict_name}}</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <i class="fa fa-table"> 指标表格</i>
      <span class='pull-right text-info'>共{{DataQuotasTotal}}条</span>
    </div>
    <div class="table-responsive">
      <table class='table table-hover table-striped table-bordered table-patch'>
         <thead>
           <tr>
             <th>关注</th>
             <th>标识</th>
             <th>序号</th>
             <th>指标编号</th>
             <th>信息资源名称</th>
             <th>信息资源别称</th>
             <th>计量单位</th>
             <th>信息资源摘要</th>
             <th>计算方法</th>
             <th>共享频率</th>
             <th>空间范围</th>
             <th>分地区数据级别</th>
             <th>来源部门</th>
             <th>共享级别</th>
             <th>数据存储类型</th>
             <th>数据精度</th>
             <th>数据长度</th>
             <th>创建时间</th>
             <th>信息资源格式</th>
             <th>是否涉密</th>
             <th>联系人</th>
             <th>联系电话</th>
           </tr>
         </thead>
         <tbody>
           <tr ng-repeat='quota in DataQuotas'>
            <td>
              <div class="checkbox">
                <label>
                  <input ng-checked='quota.isfollowed' type="checkbox">
                </label>
              </div>
            </td>
            <td>
              <button ng-if="quota.sharelevel==='全开放'" class='btn btn-default btn-xs'>
                <i class='fa fa-eye blue'> {{quota.sharelevel}}</i>
              </button>
              <button ng-if="quota.sharelevel==='省政务云平台开放'" class='btn btn-default btn-xs'>
                <i class='fa fa-desktop blue'> {{quota.sharelevel}}</i>
              </button>
              <button ng-if="quota.sharelevel==='授权开放'"  class='btn btn-default btn-xs'>
                <i class='fa fa-lock blue'> {{quota.sharelevel}}</i>
              </button>
              <button ng-if="quota.sharelevel==='暂不开放'"  class='btn btn-default btn-xs'>
                <i class='fa fa-warning orange'> {{quota.sharelevel}}</i>
              </button>
              <button ng-if="quota.showbutton==='true'" class='btn btn-default btn-xs' ng-click='DataQuotaApplyInfo(quota.id)'>
                <i class='fa fa-warning text-warning'> 申请查看</i>
              </button>
            </td>
            <td>{{$index+1}}</td>
            <td>{{quota.quota_sn}}</td>
            <td title='{{quota.quota_name}}'>
              <a ui-sref='main.data-quota.detail({data_quota_id:quota.id})'>
                {{quota.quota_name}}
              </a>
            </td>
            <td title='{{quota.alias}}'>{{quota.alias}}</td>
            <td title='{{quota.meter_unit}}'>{{quota.meter_unit}}</td>
            <td title='{{quota.quota_detail}}'>{{quota.quota_detail}}</td>
            <td title='{{quota.calculate_method}}'>{{quota.calculate_method}}</td>
            <td title='{{quota.sharefrequency}}'>{{quota.sharefrequency}}</td>
            <td title='{{quota.area_range}}'>{{quota.area_range}}</td>
            <td title='{{quota.regionallevel}}'>{{quota.regionallevel}}</td>
            <td title='{{quota.depname}}'>{{quota.depname}}</td>
            <td title='{{quota.sharelevel}}'>{{quota.sharelevel}}</td>
            <td title='{{quota.datastoretype}}'>{{quota.datastoretype}}</td>
            <td title='{{quota.data_precision}}'>{{quota.data_precision}}</td>
            <td title='{{quota.data_length}}'>{{quota.data_length}}</td>
            <td title='{{quota.create_time}}'>{{quota.create_time | date:'yyyy-MM-dd HH:mm:ss'}}</td>
            <td title='{{quota.datashowformat}}'>{{quota.datashowformat}}</td>
            <td title='{{quota.secretflag}}'>{{quota.secretflag}}</td>
            <td title='{{quota.linkman}}'>{{quota.linkman}}</td>
            <td title='{{quota.contact_phone}}'>{{quota.contact_phone}}</td>
           </tr>
         </tbody>
       </table>
    </div>

    <uib-pagination class='pull-right' total-items='Paging.totalItems' ng-model='Paging.currentPage' ng-change='Paging.pageChanged()' items-per-page='Paging.itemsPerPage'  next-text='下一页' previous-text='上一页'></uib-pagination>

  </div>

</div>
