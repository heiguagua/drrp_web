<div id='data-quota-list'>
  <div class="panel panel-default pannel-patch">
    <div class="panel-heading">
      <i ng-if="currentDep===''" class="fa fa-paperclip"> 全部资源</i>
      <i ng-if="currentDep!==''" class="fa fa-paperclip"> {{currentDep}}</i>
      <div class="input-group col-xs-3 pull-right input-patch">
        <input ng-model='TargetDataQuotaName' type="text" class="form-control" placeholder="请输入查询指标名称...">
        <span class="input-group-btn">
          <button ng-click='Retrieval()' class="btn btn-default" type="button">查询</button>
        </span>
      </div>

    </div>
    <div class="panel-body">
    <div class='filter'>
      <!-- 信息资源格式 -->
      <div class='indicator-filter'>
        <nav class='pull-left'>
          <ul class="pager">
            <li class="text-muted filter-label">信息资源格式</li>
            <li ng-click="resourceFormatFilter('All')">
              <a ng-class='resourceFormatActiveAll'>全部</a>
            </li>
            <li ng-repeat='resourceFormat in resourceFormats' ng-click='resourceFormatFilter(resourceFormat.id,  $index)'>
              <a ng-class='resourceFormatActiveAll[$index]'>{{resourceFormat.dict_name}}</a>
            </li>
          </ul>
      </nav>
      </div>
      <!-- 共享级别 -->
      <div class='indicator-filter'>
        <nav class='pull-left'>
          <ul class="pager">
            <li class="text-muted filter-label">共享级别</li>
            <li ng-click="ShareLevelFilter('ALL')">
              <a ng-class='ShareLevelActiveAll'>全部</a>
            </li>
            <li ng-repeat='shareLevel in ShareLevels' ng-click='ShareLevelFilter(shareLevel.id, $index)'>
              <a ng-class='ShareLevelActive[$index]'>{{shareLevel.dict_name}}</a>
            </li>
          </ul>
      </nav>
      </div>
      <!-- 面向社会开放 -->
      <div class='indicator-filter'>
        <nav class='pull-left'>
          <ul class="pager">
            <li class="text-muted filter-label">面向社会开放</li>
            <li ng-click="openToSocietyFilter('All')">
              <a ng-class='openToSocietyActiveAll'>全部</a>
            </li>
            <li ng-repeat='openToSociety in openToSocietys' ng-click='openToSocietyFilter(openToSociety.id,  $index)'>
              <a ng-class='openToSocietyActive[index]'>{{openToSociety.dict_name}}</a>
            </li>
          </ul>
      </nav>
      </div>
      <!-- 共享频率 -->
      <div class='indicator-filter'>
        <nav class='pull-left'>
          <ul class="pager">
            <li class="text-muted filter-label">更新周期</li>
            <li ng-click="ShareFrequencyFilter('ALL')">
              <a ng-class='ShareFrequencyActiveAll'>全部</a>
            </li>
            <li ng-repeat='shareFrequency in ShareFrequencys' ng-click='ShareFrequencyFilter(shareFrequency.id, $index)'>
              <a ng-class='ShareFrequencyActive[$index]'>{{shareFrequency.dict_name}}
              </a>
            </li>
          </ul>
      </nav>
      </div>
      <!-- 分地区数据级别 -->
      <div class='indicator-filter'>
        <nav class='pull-left'>
          <ul class="pager">
            <li class="text-muted filter-label">分地区数据级别</li>
            <li ng-click="DataLevelFilter('ALL')">
              <a ng-class='DataLevelActiveAll'>全部</a>
            </li>
            <li ng-repeat='dataLevel in DataLevels' ng-click='DataLevelFilter(dataLevel.id, $index)'>
              <a ng-class='DataLevelActive[$index]'>{{dataLevel.dict_name}}</a>
            </li>
        </ul>
      </nav>
      </div>
      <!-- 是否涉密 -->
     <div class='indicator-filter'>
       <nav class='pull-left'>
         <ul class="pager">
           <li class="text-muted filter-label">是否涉密</li>
           <li ng-click="isScretFilter('All')">
              <a ng-class='isScretActiveAll' >全部</a>
           </li>
           <li ng-repeat='isScret in isScrets' ng-click='isScretFilter(isScret.id, $index)'>
              <a ng-class='isScretActive[index]'>{{isScret.dict_name}}</a>
           </li>
        </ul>
       </nav>
     </div>
   </div>
  </div>
 </div>

  <div class="panel panel-default">
    <div class="panel-heading">
      <i class="fa fa-table"> 资源表格</i>
      <span class='pull-right text-info'>共{{DataQuotasTotal}}条</span>
    </div>
    <div class="table-responsive">
      <div class='container'>
        <div class='row'>
          <div class='col-lg-12' >
            <table class='table table-hover table-striped table-bordered  table-patch'>
               <thead>
                 <tr>
                   <th ng-hide="true" width="60px" rowspan="2">关注</th>
                   <th width="100px" rowspan="2">标识</th>
                   <th width="40px" rowspan="2">序号</th>
                   <th width="90px" rowspan="2">信息资源名称</th>
                   <th width="90px" rowspan="2">信息资源别称</th>
                   <th width="100px" rowspan="2">信息资源摘要</th>
                   <th width="60px" rowspan="2">信息资源分类</th>
                   <th width="60px" rowspan="2">信息资源格式</th>
                   <th width="300px" colspan="4">信息项信息</th>
                   <th width="60px"></th>
                   <th width="60px"></th>
                   <th width="60px" rowspan="2">计量单位</th>
                   <th width="60px" rowspan="2">计算方法</th>
                   <th width="60px" rowspan="2">共享级别</th>
                   <th width="200px" colspan="2">共享类型与共享条件</th>
                   <th width="80px" rowspan="2">共享方式</th>
                   <th width="210px" colspan="2">开放数据与开放条件</th>
                   <th width="80px" rowspan="2">信息资源提供方</th>
                   <th width="80px" rowspan="2">资源提供方代码</th>
                   <th width="60px" rowspan="2">信息资源目录代码</th>
                   <th width="60px" rowspan="2">关联及类目名称</th>
                   <th width="60px" rowspan="2">空间范围</th>
                   <th width="100px" rowspan="2">分地区数据级别</th>
                   <th width="60px" rowspan="2">联系人</th>
                   <th width="100px" rowspan="2">联系电话</th>
                   <th width="120px" rowspan="2">创建时间</th>
                 </tr>
                 <tr>
                   <th>信息项名称</th>
                   <th>数据类型</th>
                   <th>数据精度</th>
                   <th>数据长度</th>
                   <th>更新周期</th>
                   <th>是否涉密</th>
                   <th>共享类型</th>
                   <th>共享条件</th>
                   <th>是否面向社会开放</th>
                   <th>开放条件</th>
                 </tr>
               </thead>
               <tbody>
                 <tr ng-repeat='quota in DataQuotas'>
                  <td ng-hide="true">
                    <div class="checkbox">
                      <label>
                        <input ng-checked='quota.isfollowed' type="checkbox">
                      </label>
                    </div>
                  </td>
                  <td>
                    <button ng-if="quota.sharelevel==='全开放'" class='btn btn-default btn-xs'>
                      <i class='fa fa-eye blue'> {{quota.sharelevel}}</i>
                    </button>
                    <button ng-if="quota.sharelevel==='省政务云平台开放'" class='btn btn-default btn-xs'>
                      <i class='fa fa-desktop blue'> {{quota.sharelevel}}</i>
                    </button>
                    <button ng-if="quota.sharelevel==='授权开放'"  class='btn btn-default btn-xs'>
                      <i class='fa fa-lock blue'> {{quota.sharelevel}}</i>
                    </button>
                    <button ng-if="quota.sharelevel==='暂不开放'"  class='btn btn-default btn-xs'>
                      <i class='fa fa-warning orange'> {{quota.sharelevel}}</i>
                    </button>
                    <button ng-if="quota.showbutton==='true'" class='btn btn-default btn-xs' ng-click='DataQuotaApplyInfo(quota.id)'>
                      <i class='fa fa-warning text-warning'> 申请查看</i>
                    </button>
                  </td>
                  <td>{{$index+1}}</td>
                  <td title='{{quota.quota_name}}'>
                    <a ui-sref='main.data-quota.detail({data_quota_id:quota.id})'>
                      {{quota.quota_name}}
                    </a>
                  </td>
                  <td title='{{quota.alias}}'>{{quota.alias}}</td>
                  <td title='{{quota.quota_detail}}'>{{quota.quota_detail}}</td>
                  <td title='信息资源分类'>信息资源分类</td>
                  <td title='{{quota.datashowformat}}'>{{quota.datashowformat}}</td>
                  <td ng-if="quota.quota.alias ==='数据库类'" title='信息项名称'>信息项名称</td>
                  <td ng-if="quota.quota.alias ==='数据库类'" title='{{quota.datastoretype}}'>{{quota.datastoretype}}</td>
                  <td ng-if="quota.quota.alias ==='数据库类'" title='{{quota.data_precision}}'>{{quota.data_precision}}</td>
                  <td ng-if="quota.quota.alias ==='数据库类'" title='{{quota.data_length}}'>{{quota.data_length}}</td>

                  <td ng-if="quota.quota.alias !='数据库类'" ></td>
                  <td ng-if="quota.quota.alias !='数据库类'" ></td>
                  <td ng-if="quota.quota.alias !='数据库类'" ></td>
                  <td ng-if="quota.quota.alias !='数据库类'" ></td>

                  <td title='{{quota.sharefrequency}}'>{{quota.sharefrequency}}</td>
                  <td title='{{quota.secretflag}}'>{{quota.secretflag}}</td>
                  <td title='{{quota.meter_unit}}'>{{quota.meter_unit}}</td>
                  <td title='{{quota.calculate_method}}'>{{quota.calculate_method}}</td>
                  <td title='{{quota.sharelevel}}'>{{quota.sharelevel}}</td>
                  <td title="共享类型">共享类型</td>
                  <td title="共享条件">共享条件</td>
                  <td title="共享方式">共享方式</td>
                  <td title="是否面向社会开放">是否面向社会开放</td>
                  <td title="开放条件">开放条件</th>
                  <td title='{{quota.depname}}'>{{quota.depname}}</td>
                  <td title='资源提供方代码'>资源提供方代码</td>

                  <td title='信息资源目录代码'>信息资源目录代码</td>
                  <td title='关联及类目名称'>关联及类目名称</td>
                  <td title='{{quota.area_range}}'>{{quota.area_range}}</td>
                  <td title='{{quota.regionallevel}}'>{{quota.regionallevel}}</td>

                  <td title='{{quota.linkman}}'>{{quota.linkman}}</td>
                  <td title='{{quota.contact_phone}}'>{{quota.contact_phone}}</td>
                  <td title='{{quota.create_time}}'>{{quota.create_time | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                 </tr>
               </tbody>
             </table>
          </div>
        </div>
      </div>
    </div>

    <uib-pagination class='pull-right' total-items='Paging.totalItems' ng-model='Paging.currentPage' ng-change='Paging.pageChanged()' items-per-page='Paging.itemsPerPage'  next-text='下一页' previous-text='上一页'></uib-pagination>

  </div>

</div>
